# 卡牌Roguelike游戏

一个基于Python和Pygame开发的卡牌策略Roguelike游戏。

## 项目结构

```
card_roguelike/
├── __init__.py
├── main.py              # 主程序
├── battle_system.py     # 战斗系统
├── cards/               # 卡牌模块
│   ├── __init__.py
│   ├── card_base.py     # 卡牌基类
│   ├── attack_cards.py  # 攻击卡牌
│   ├── skill_cards.py   # 技能卡牌
│   └── ability_cards.py # 能力卡牌
├── characters/          # 角色模块
│   ├── __init__.py
│   ├── character.py     # 角色基类
│   └── warrior.py       # 战士职业
├── enemies/             # 敌人模块
│   ├── __init__.py
│   ├── enemy.py         # 敌人基类
│   ├── goblin_warrior.py # 地精战士
│   ├── goblin_archer.py  # 地精射手
│   └── slime.py         # 史莱姆
└── ui/                  # UI模块
    ├── __init__.py
    ├── font_manager.py  # 字体管理器
    └── battle_ui.py     # 战斗界面
```

## 游戏特性

### 核心机制
- **卡牌构筑**：通过战斗获得新卡牌，构建自己的牌组
- **回合制战斗**：策略性的回合制卡牌战斗
- **角色成长**：提升生命值、获得新卡牌和遗物
- **敌人AI**：敌人有意图系统，显示下回合行动

### 角色系统
- **战士**：高生命值，擅长攻击和护甲
- 初始HP: 80
- 初始能量: 3
- 初始卡组: 5张打击、4张防御、1张重击、1张铁波

### 卡牌系统

#### 攻击卡牌
- **打击** (1能量): 造成6/9点伤害
- **重击** (2能量): 造成15/20点伤害
- **旋风斩** (2能量): 对所有敌人造成5/7点伤害

#### 技能卡牌
- **防御** (1能量): 获得5/8点护甲
- **铁波** (1能量): 造成5/8点伤害，获得5/8点护甲

#### 能力卡牌
- **燃烧** (1能量): 每回合造成3/5点火伤
- **恶魔形态** (3能量): 每回合获得1/2点力量

### 敌人系统
- **地精战士** (40HP): 攻击→防御→攻击循环
- **地精射手** (30HP): 攻击→上毒→攻击循环，初始带毒
- **史莱姆** (50HP): 攻击→分裂→攻击循环

## 运行要求

- Python 3.6+
- Pygame

## 安装依赖

```bash
pip install pygame
```

## 运行游戏

```bash
cd card_roguelike
python main.py
```

## 操作说明

### 战斗操作
- **数字键1-9**: 使用手牌中对应的卡牌
- **E键**: 结束回合
- **ESC键**: 退出游戏
- **空格键**: 战斗结束后继续下一个敌人

### 战斗流程
1. 玩家回合开始，恢复能量
2. 抽取5张卡牌
3. 使用卡牌消耗能量
4. 按E键结束回合
5. 敌人显示意图并执行行动
6. 回合结束，护甲清除
7. 重复直到一方死亡

## 游戏界面

### 战斗界面布局
```
[玩家状态]              [敌人信息]
HP: 52/80               地精战士
能量: 3/3               HP: 40/40
护甲: 5                 护甲: 0
                        意图: 攻击 6

[战斗日志区域]
显示最近的战斗信息和效果

[手牌区域]
[卡1] [卡2] [卡3] [卡4] [卡5]

[牌库信息]              [操作按钮]
牌库: 10张             [结束回合] [查看牌库]
弃牌: 2张
手牌: 5张
回合: 1
```

## 扩展性

游戏采用模块化设计，易于扩展：

### 添加新卡牌
1. 在cards/目录下创建新文件
2. 继承Card类并实现play()方法
3. 在__init__.py中导出新卡牌

### 添加新角色
1. 在characters/目录下创建新文件
2. 继承Character类
3. 定义初始属性和卡组

### 添加新敌人
1. 在enemies/目录下创建新文件
2. 继承Enemy类
3. 定义行为模式循环

## 开发计划

### 已完成
- ✅ 核心卡牌系统
- ✅ 角色系统（战士）
- ✅ 敌人系统（3种敌人）
- ✅ 战斗系统
- ✅ 基础UI界面
- ✅ 中文字体支持

### 计划中
- ⏳ 地图系统
- ⏳ 遗物系统
- ⏳ 药水系统
- ⏳ 卡牌升级系统
- ⏳ 更多角色职业
- ⏳ 更多敌人类型
- ⏳ 随机事件系统
- ⏳ 商店系统

## 技术特点

- 模块化设计，易于扩展
- 面向对象编程
- 游戏状态机管理
- 中文字体支持
- 清晰的代码结构

## 许可证

MIT License
