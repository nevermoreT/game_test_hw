# 游戏平台完整说明书

## 目录

1. [平台概述](#平台概述)
2. [系统要求](#系统要求)
3. [安装指南](#安装指南)
4. [游戏平台使用](#游戏平台使用)
5. [贪吃蛇游戏说明](#贪吃蛇游戏说明)
6. [卡牌Roguelike游戏说明](#卡牌roguelike游戏说明)
7. [常见问题](#常见问题)
8. [开发者指南](#开发者指南)

---

## 平台概述

### 什么是游戏平台？

这是一个基于Python和Pygame开发的多游戏平台，采用插件式架构设计。平台提供了一个统一的游戏中心界面，可以动态加载和运行多个独立的游戏模块。

### 核心特性

- **插件式架构**: 每个游戏是独立的模块，互不干扰
- **自动发现**: 平台自动扫描并加载games目录下的所有游戏
- **统一界面**: 提供一致的用户体验
- **中文支持**: 完整的中文界面和字体支持
- **易于扩展**: 添加新游戏无需修改核心代码

### 包含的游戏

1. **贪吃蛇（Snake）** - 经典动作游戏
2. **卡牌Roguelike（Card Roguelike）** - 策略卡牌战斗游戏

---

## 系统要求

### 最低配置

- **操作系统**: Windows 7/8/10/11, macOS 10.12+, Linux
- **Python**: 3.6 或更高版本
- **内存**: 512MB RAM
- **存储**: 100MB 可用空间
- **显卡**: 支持OpenGL 2.0的显卡

### 推荐配置

- **操作系统**: Windows 10/11, macOS 10.15+, Linux
- **Python**: 3.8 或更高版本
- **内存**: 1GB RAM
- **存储**: 200MB 可用空间
- **显卡**: 支持OpenGL 3.0的显卡

---

## 安装指南

### 第一步：安装Python

1. 访问 [Python官网](https://www.python.org/downloads/)
2. 下载适合您操作系统的Python安装包
3. 运行安装程序，**务必勾选"Add Python to PATH"**
4. 验证安装：打开命令行输入 `python --version`

### 第二步：安装Pygame

打开命令行（Windows: CMD/PowerShell, macOS/Linux: Terminal），执行：

```bash
pip install pygame
```

### 第三步：下载游戏平台

#### 方法1：从GitHub下载

1. 访问 https://github.com/nevermoreT/game_test_hw
2. 点击 "Code" 按钮
3. 选择 "Download ZIP"
4. 解压到任意目录

#### 方法2：使用Git克隆

```bash
git clone https://github.com/nevermoreT/game_test_hw.git
cd game_test_hw
```

### 第四步：验证安装

```bash
cd game_platform
python main.py
```

如果看到游戏中心界面，说明安装成功！

---

## 游戏平台使用

### 启动游戏平台

#### Windows系统

1. 双击 `start.bat` 文件
2. 或在命令行中运行：
   ```bash
   cd game_platform
   python main.py
   ```

#### macOS/Linux系统

```bash
cd game_platform
python main.py
```

### 游戏中心界面

#### 界面布局

```
┌─────────────────────────────────────────┐
│           游戏中心                      │
├─────────────────────────────────────────┤
│                                         │
│    [贪吃蛇]                             │
│    经典的贪吃蛇游戏，方向键控制移动     │
│                                         │
│    [卡牌Roguelike]                      │
│    策略卡牌战斗游戏，使用卡牌击败敌人   │
│                                         │
│                    按ESC退出            │
└─────────────────────────────────────────┘
```

#### 操作说明

- **鼠标左键**: 点击游戏按钮启动对应游戏
- **ESC键**: 退出游戏平台

#### 游戏列表

平台会自动显示所有可用的游戏，每个游戏显示：
- 游戏名称
- 游戏描述
- 启动按钮

---

## 贪吃蛇游戏说明

### 游戏简介

贪吃蛇是一款经典的游戏，玩家控制一条蛇在网格中移动，通过吃食物来增长身体长度。游戏的目标是尽可能多地吃食物，同时避免撞到墙壁或自己的身体。

### 游戏规则

1. 蛇会不断向当前方向移动
2. 吃到食物后，蛇的长度增加1，得分+10
3. 撞到墙壁或自己的身体，游戏结束
4. 游戏结束后可以重新开始

### 操作说明

- **方向键↑**: 向上移动
- **方向键↓**: 向下移动
- **方向键←**: 向左移动
- **方向键→**: 向右移动
- **ESC键**: 返回游戏中心
- **空格键**: 游戏结束后重新开始

### 游戏界面

```
┌────────────────────────────────────┐
│  得分: 100   按ESC返回主菜单       │
├────────────────────────────────────┤
│                                    │
│      ■■■■■                         │
│      ■   ■                         │
│      ■   ■                         │
│          ■                         │
│      ●   ■                         │
│                                    │
├────────────────────────────────────┤
│  ■ = 蛇身  ● = 食物               │
└────────────────────────────────────┘
```

### 得分系统

- 每吃一个食物：+10分
- 游戏结束显示最终得分

### 游戏技巧

1. **不要贪心**: 不要为了吃食物而冒险
2. **保持空间**: 尽量让蛇在较大的空间内移动
3. **提前规划**: 提前几步规划移动路线
4. **利用墙壁**: 可以利用墙壁作为转向点

---

## 卡牌Roguelike游戏说明

### 游戏简介

卡牌Roguelike是一款策略性卡牌战斗游戏。玩家扮演一名战士，通过构建自己的卡组，使用策略卡牌击败各种敌人。游戏采用回合制战斗，玩家需要在有限的能量内使用最合适的卡牌。

### 游戏规则

#### 基本规则

1. 每回合开始时，玩家恢复能量并抽5张卡牌
2. 使用卡牌需要消耗相应的能量
3. 结束回合后，敌人会根据意图执行行动
4. 当玩家HP归零时，游戏失败
5. 当敌人HP归零时，进入下一个敌人

#### 胜利条件

击败所有敌人（地精战士、地精射手、史莱姆）

### 操作说明

- **数字键1-9**: 使用手牌中对应的卡牌
- **E键**: 结束回合
- **ESC键**: 返回游戏中心
- **空格键**: 战斗结束后继续下一个敌人

### 游戏界面

```
┌──────────────┬──────────────┐
│ 玩家状态     │ 敌人信息     │
│ HP: 52/80    │ 地精战士     │
│ 能量: ▮▮     │ HP: 40/40    │
│ 护甲: 15     │ 护甲: 0      │
│              │ 意图: 攻击 6 │
├──────────────┴──────────────┤
│ 战斗日志区域                  │
│ 显示最近的战斗信息和效果      │
├──────────────────────────────┤
│ 手牌区域                      │
│ [卡1] [卡2] [卡3] [卡4] [卡5]│
├──────────────┬──────────────┤
│ 牌库信息     │ 操作按钮     │
│ 牌库: 10张   │ [结束回合]   │
│ 弃牌: 2张    │ [查看牌库]   │
│ 手牌: 5张    │              │
│ 回合: 1      │              │
└──────────────┴──────────────┘
```

### 角色系统

#### 战士职业

- **初始HP**: 80
- **初始能量**: 3
- **特点**: 高生命值，擅长攻击和护甲

#### 初始卡组

| 卡牌名称 | 数量 | 类型 |
|----------|------|------|
| 打击     | 5张  | 攻击 |
| 防御     | 4张  | 技能 |
| 重击     | 1张  | 攻击 |
| 铁波     | 1张  | 技能 |

### 卡牌系统

#### 攻击卡牌

**打击**
- 消耗: 1能量
- 效果: 造成6伤害
- 升级: 造成9伤害

**重击**
- 消耗: 2能量
- 效果: 造成15伤害
- 升级: 造成20伤害

**旋风斩**
- 消耗: 2能量
- 效果: 对所有敌人造成5伤害
- 升级: 对所有敌人造成7伤害

#### 技能卡牌

**防御**
- 消耗: 1能量
- 效果: 获得5护甲
- 升级: 获得8护甲

**铁波**
- 消耗: 1能量
- 效果: 造成5伤害，获得5护甲
- 升级: 造成8伤害，获得8护甲

#### 能力卡牌

**燃烧**
- 消耗: 1能量
- 效果: 每回合造成3火伤
- 升级: 每回合造成5火伤

**恶魔形态**
- 消耗: 3能量
- 效果: 每回合获得1点力量
- 升级: 每回合获得2点力量

### 敌人系统

#### 地精战士

- **HP**: 40
- **行为模式**: 攻击(6) → 防御(5) → 攻击(6)
- **特点**: 基础敌人，攻击和防御交替

#### 地精射手

- **HP**: 30
- **行为模式**: 攻击(4) → 上毒(2) → 攻击(4)
- **特点**: 初始带1层毒，可以给玩家施加毒效果

#### 史莱姆

- **HP**: 50
- **行为模式**: 攻击(3) → 分裂(获得力量) → 攻击(3)
- **特点**: 随着战斗进行会变得越来越强

### 战斗策略

#### 基本策略

1. **能量管理**: 合理使用有限的能量
2. **护甲积累**: 在敌人攻击前积累足够的护甲
3. **卡牌配合**: 组合使用不同类型的卡牌
4. **观察意图**: 根据敌人的意图调整策略

#### 高级技巧

1. **防御优先**: 在敌人攻击回合优先使用防御卡
2. **能量最大化**: 尽量用完所有能量
3. **卡牌保留**: 保留强力卡牌在关键时刻使用
4. **节奏控制**: 控制战斗节奏，避免被敌人压制

### 状态效果

#### 护甲
- 效果: 吸收伤害
- 持续: 回合结束清除

#### 燃烧
- 效果: 每回合造成火伤
- 持续: 持续直到敌人死亡

#### 毒
- 效果: 每回合造成毒伤害
- 持续: 持续直到玩家死亡

#### 力量
- 效果: 增加攻击伤害
- 持续: 持续整个战斗

---

## 常见问题

### 安装问题

**Q: 提示"python不是内部或外部命令"？**

A: 说明Python没有添加到系统PATH。重新安装Python时勾选"Add Python to PATH"选项。

**Q: 提示"No module named 'pygame'"？**

A: 需要安装Pygame。在命令行执行 `pip install pygame`。

**Q: 游戏窗口显示乱码？**

A: 确保系统支持中文字体。Windows系统通常自带微软雅黑字体。

### 游戏问题

**Q: 贪吃蛇游戏无法控制？**

A: 确保游戏窗口处于激活状态，点击游戏窗口后再尝试控制。

**Q: 卡牌游戏无法使用卡牌？**

A:
1. 检查能量是否足够
2. 确保在玩家回合（不是敌人回合）
3. 使用数字键1-9对应手牌中的卡牌

**Q: 游戏卡死或无响应？**

A: 尝试按ESC键返回游戏中心，然后重新启动游戏。

### 性能问题

**Q: 游戏运行缓慢？**

A:
1. 关闭其他占用系统资源的程序
2. 降低游戏窗口大小
3. 检查是否运行在虚拟机中

**Q: 游戏崩溃？**

A:
1. 检查Python版本是否为3.6或更高
2. 重新安装Pygame: `pip install --upgrade pygame`
3. 查看错误信息并报告问题

---

## 开发者指南

### 添加新游戏

#### 步骤1: 创建游戏模块

在 `game_platform/games/` 目录下创建新的Python文件，例如 `my_game.py`。

#### 步骤2: 继承GameBase类

```python
from game_base import GameBase
import pygame

class MyGame(GameBase):
    def get_name(self):
        return "我的游戏"
    
    def get_description(self):
        return "游戏描述"
    
    def init(self):
        """初始化游戏资源和状态"""
        pygame.init()
        self.screen = pygame.display.set_mode((self.width, self.height))
        self.clock = pygame.time.Clock()
    
    def handle_events(self, events):
        """处理游戏事件"""
        for event in events:
            if event.type == pygame.QUIT:
                pygame.quit()
                return
            elif event.type == pygame.KEYDOWN:
                if event.key == pygame.K_ESCAPE:
                    self.return_to_menu = True
    
    def update(self):
        """更新游戏逻辑"""
        pass
    
    def draw(self, screen):
        """绘制游戏画面"""
        screen.fill((0, 0, 0))
        pygame.display.flip()
    
    def cleanup(self):
        """清理游戏资源"""
        pass
    
    def should_return_to_menu(self):
        """检查是否应该返回主菜单"""
        return getattr(self, 'return_to_menu', False)
```

#### 步骤3: 自动加载

游戏中心会自动发现并加载新游戏，无需修改任何配置。

### 扩展卡牌游戏

#### 添加新卡牌

在 `card_roguelike/cards/` 目录下创建新文件或添加到现有文件：

```python
from .card_base import Card, CardType

class MyCard(Card):
    def __init__(self, upgraded=False):
        super().__init__(
            name="新卡牌",
            card_type=CardType.ATTACK,
            cost=1,
            description="造成10伤害",
            upgraded=upgraded
        )
        self.damage = 10
    
    def play(self, player, enemy):
        enemy.take_damage(self.damage)
        return f"使用了{self.name}，造成{self.damage}点伤害"
```

#### 添加新敌人

在 `card_roguelike/enemies/` 目录下创建新文件：

```python
from .enemy import Enemy, IntentType

class MyEnemy(Enemy):
    def __init__(self):
        super().__init__(
            name="新敌人",
            max_hp=50
        )
        self.actions = [
            {"type": IntentType.ATTACK, "value": 8},
            {"type": IntentType.DEFEND, "value": 6}
        ]
        self.plan_next_action()
```

### 贡献代码

欢迎贡献代码！请遵循以下步骤：

1. Fork本项目
2. 创建特性分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 开启Pull Request

### 许可证

本项目采用MIT许可证。详见LICENSE文件。

---

## 技术支持

### 获取帮助

- **GitHub Issues**: https://github.com/nevermoreT/game_test_hw/issues
- **项目主页**: https://github.com/nevermoreT/game_test_hw

### 反馈意见

如果您有任何建议或发现问题，欢迎：
1. 在GitHub上提交Issue
2. 发送邮件反馈
3. 参与讨论

---

## 更新日志

### v1.0.0 (2024-01-22)

#### 新增功能
- ✅ 游戏平台核心架构
- ✅ 贪吃蛇游戏
- ✅ 卡牌Roguelike游戏
- ✅ 插件式游戏加载系统
- ✅ 中文字体支持
- ✅ 完整的UI界面

#### 已知问题
- 卡牌游戏在某些系统上可能有性能问题
- 部分卡牌效果需要进一步平衡

#### 计划中
- 地图系统
- 更多游戏
- 卡牌升级系统
- 遗物系统

---

## 致谢

感谢所有为本项目做出贡献的开发者和测试者！

特别感谢：
- Pygame开发团队
- Python社区
- 所有测试用户

---

**祝您游戏愉快！** 🎮
